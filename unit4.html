
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UNIT4 å–®å­—ç·´ç¿’</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 700px; margin: auto; }
    .question-box { display: none; margin-bottom: 25px; }
    .question-box.active { display: block; }
    .result { font-weight: bold; margin-top: 10px; }
    .score { margin-bottom: 20px; font-size: 18px; }
    button { margin-top: 10px; padding: 8px 14px; }
    input { padding: 8px; font-size: 16px; width: 100%; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>ğŸ“˜ UNIT4 å–®å­—ç·´ç¿’ï¼ˆä¸­ç¿»è‹±å¡«ç©ºï¼‰</h2>
  <div class="score">ç›®å‰å¾—åˆ†ï¼š<span id="score">0</span> åˆ† / 160</div>
  <div id="quiz"></div>

  <script>
    const questions = [
      { zh: "ç§‘å­¸", en: "science" },
      { zh: "é«”è‚²", en: "PE" },
      { zh: "çœ‹æ›¸", en: "read books" },
      { zh: "ç¡è¦º", en: "go to bed" },
      { zh: "åƒæ™šé¤", en: "eat dinner" },
      { zh: "ç©é›»è…¦éŠæˆ²", en: "play computer games" },
      { zh: "åšåŠŸèª²", en: "do homework" },
      { zh: "çœ‹é›»è¦–", en: "watch TV" }
    ];

    let current = 0;
    let score = 0;
    let wrongList = [];

    function renderQuestion(index) {
      const container = document.getElementById("quiz");
      container.innerHTML = "";
      const q = questions[index];
      const box = document.createElement("div");
      box.className = "question-box active";
      box.innerHTML = `
        <div>Q${index + 1}. ã€ä¸­ç¿»è‹±ã€‘è«‹å¯«å‡ºè‹±æ–‡ï¼š<strong>${q.zh}</strong></div>
        <input id="answer" type="text" autocomplete="off" />
        <button onclick="checkAnswer('${q.en}', ${index})">é€å‡º</button>
        <div class="result" id="result"></div>
      `;
      container.appendChild(box);
      document.getElementById("answer").focus();
    }

    function checkAnswer(correct, index) {
      const input = document.getElementById("answer").value.trim().toLowerCase();
      const answer = correct.toLowerCase();
      const result = document.getElementById("result");

      if (input === answer) {
        score += 20;
        document.getElementById("score").innerText = score;
        current++;
        if (current < questions.length) {
          renderQuestion(current);
        } else {
          if (wrongList.length > 0) {
            questions.splice(0, questions.length, ...wrongList);
            wrongList = [];
            current = 0;
            renderQuestion(current);
          } else {
            alert("ğŸ‰ æ­å–œä½ å®Œæˆ UNIT4ï¼å³å°‡å‰å¾€ UNIT5...");
            window.location.href = "unit5_sentences.html";
          }
        }
      } else {
        result.innerHTML = `âŒ éŒ¯èª¤ï¼Œæ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š<span style="color: green;">${correct}</span>`;
        if (!wrongList.includes(questions[index])) {
          wrongList.push(questions[index]);
        }
        current++;
        setTimeout(() => {
          if (current < questions.length) {
            renderQuestion(current);
          } else {
            questions.splice(0, questions.length, ...wrongList);
            wrongList = [];
            current = 0;
            renderQuestion(current);
          }
        }, 2000);
      }
    }

    renderQuestion(current);
  </script>
</body>
</html>
